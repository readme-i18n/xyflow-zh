---

title: MiniMap 组件
sidebarTitle: '<MiniMap />'
description: 'MiniMap 组件可用于呈现流程的概览视图。它会将每个节点渲染为 SVG 元素，并可视化显示当前视口在整个流程中的相对位置。'
---

# \<MiniMap />

[GitHub 源码](https://github.com/xyflow/xyflow/blob/main/packages/react/src/additional-components/MiniMap/MiniMap.tsx)

`<MiniMap />` 组件可用于呈现流程的概览视图。它会将每个节点渲染为 SVG 元素，并可视化显示当前视口在整个流程中的相对位置。

```jsx
import { ReactFlow, MiniMap } from '@xyflow/react';

export default function Flow() {
  return (
    <ReactFlow nodes={[...]]} edges={[...]]}>
      <MiniMap nodeStrokeWidth={3} />
    </ReactFlow>
  );
}
```

## Props 属性

对于 TypeScript 用户，`<MiniMap />` 组件的属性类型以 `MiniMapProps` 形式导出。

<APIDocs componentName="MiniMap" groupKeys="Omit<HTMLAttributes<SVGSVGElement>, 'onClick'>" />

## 使用示例

### 实现迷你地图交互功能

默认情况下，迷你地图是非交互式的。要允许用户通过平移或缩放迷你地图来与视口交互，可以将 `zoomable` 或 `pannable` 属性（或两者同时）设置为 `true`。

```jsx
import { ReactFlow, MiniMap } from '@xyflow/react';

export default function Flow() {
  return (
    <ReactFlow nodes={[...]]} edges={[...]]}>
      <MiniMap pannable zoomable />
    </ReactFlow>
  );
}
```

### 实现自定义迷你地图节点

可以通过向 `nodeComponent` 属性传递自定义组件来改变节点在迷你地图中的渲染方式。如果这样做，**必须**在组件中仅使用 SVG 元素才能确保其正常工作。

```jsx
import { ReactFlow, MiniMap } from '@xyflow/react';

export default function Flow() {
  return (
    <ReactFlow nodes={[...]]} edges={[...]]}>
      <MiniMap nodeComponent={MiniMapNode} />
    </ReactFlow>
  );
}

function MiniMapNode({ x, y }) {
  return <circle cx={x} cy={y} r="50" />;
}
```

查看 [`MiniMapNodeProps`](/api-reference/types/mini-map-node-props) 的文档了解传递给自定义组件的属性。

### 自定义迷你地图节点颜色

`nodeColor`、`nodeStrokeColor` 和 `nodeClassName` 属性可以接收一个函数，该函数接受一个 [`Node`](/api-reference/types/node) 并计算属性值。这可用于自定义每个缩略图节点的外观。

此示例展示如何根据节点类型为每个缩略图节点着色：

```jsx
import { ReactFlow, MiniMap } from '@xyflow/react';

export default function Flow() {
  return (
    <ReactFlow nodes={[...]]} edges={[...]]}>
      <MiniMap nodeColor={nodeColor} />
    </ReactFlow>
  );
}

function nodeColor(node) {
  switch (node.type) {
    case 'input':
      return '#6ede87';
    case 'output':
      return '#6865A5';
    default:
      return '#ff0072';
  }
}
```

## TypeScript

该组件接受自定义节点类型的泛型参数。更多信息请参阅 [TypeScript 指南中的相关章节](/learn/advanced-use/typescript#nodetype-edgetype-unions)。

```tsx
<MiniMap<CustomNodeType> nodeColor={nodeColor} />
```