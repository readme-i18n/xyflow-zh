---

title: ReactFlowProvider 组件
sidebarTitle: <ReactFlowProvider />
---

# \<ReactFlowProvider />

[GitHub 源码](https://github.com/xyflow/xyflow/blob/main/packages/react/src/components/ReactFlowProvider/index.tsx/#L9)

`<ReactFlowProvider />` 是一个
[上下文提供器](https://react.dev/learn/passing-data-deeply-with-context#)，
它使得在 [`<ReactFlow />`](/api-reference/react-flow) 组件外部访问流程内部状态成为可能。我们提供的许多钩子都依赖此组件才能正常工作。

```tsx
import { ReactFlow, ReactFlowProvider, useNodes } from '@xyflow/react'

export default function Flow() {
  return (
    <ReactFlowProvider>
      <ReactFlow nodes={...} edges={...} />
      <Sidebar />
    </ReactFlowProvider>
  )
}

function Sidebar() {
  // This hook will only work if the component it's used in is a child of a
  // <ReactFlowProvider />.
  const nodes = useNodes()

  return (
    <aside>
      {nodes.map((node) => (
        <div key={node.id}>
          Node {node.id} -
            x: {node.position.x.toFixed(2)},
            y: {node.position.y.toFixed(2)}
        </div>
      ))}
    </aside>
  )
}
```

## Props 属性

<APIDocs componentName="ReactFlowProvider" />

## 注意事项

- 如果您使用路由并希望流程状态在路由间保持持久化，必须将 `<ReactFlowProvider />` 组件置于路由组件 _外部_
- 如果同一页面存在多个流程，需要为每个流程单独使用 `<ReactFlowProvider />`