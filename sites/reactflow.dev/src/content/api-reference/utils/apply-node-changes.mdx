---

description: 
  "ReactFlow 组件上的各种事件可以生成 NodeChange，用于描述如何以某种方式更新流程中的节点。如果不需要自定义行为，可以使用此工具函数接收这些变更数组并将其应用到节点上。"
---

# applyNodeChanges()

[GitHub 源代码](https://github.com/xyflow/xyflow/blob/main/packages/react/src/utils/changes.ts/#L140)

[`<ReactFlow />`](/api-reference/react-flow) 组件上的各种事件可以生成 [`NodeChange`](/api-reference/types/node-change)，用于描述如何以某种方式更新流程中的节点。如果不需要自定义行为，可以使用此工具函数接收这些变更数组并将其应用到节点上。

```js
import { useState, useCallback } from 'react';
import { ReactFlow, applyNodeChanges } from '@xyflow/react';

export default function Flow() {
  const [nodes, setNodes] = useState([]);
  const [edges, setEdges] = useState([]);
  const onNodesChange = useCallback(
    (changes) => {
      setNodes((oldNodes) => applyNodeChanges(changes, oldNodes));
    },
    [setNodes],
  );

  return (
    <ReactFlow nodes={nodes} edges={edges} onNodesChange={onNodesChange} />
  );
}
```

## 签名

<APIDocs functionName="applyNodeChanges" />

## 注意事项

- 如果不需要自定义行为，[`useNodesState`](/api-reference/hooks/use-nodes-state) 钩子已封装此工具函数和 React 的 `useState` 钩子，使用起来可能更为简便。