---

description: 'useOnViewportChange 钩子允许您监听视口变化（如平移和缩放）。您可以为视口变化的每个阶段提供回调函数：onStart、onChange 和 onEnd。'
---

# useOnViewportChange()

[Source on GitHub](https://github.com/xyflow/xyflow/blob/main/packages/react/src/hooks/useOnViewportChange.ts)

`useOnViewportChange` 钩子允许您监听视口变化（如平移和缩放）。您可以为视口变化的每个阶段提供回调函数：`onStart`、`onChange` 和 `onEnd`。

```tsx
import { useCallback } from 'react';
import { useOnViewportChange } from '@xyflow/react';

function ViewportChangeLogger() {
  useOnViewportChange({
    onStart: (viewport: Viewport) => console.log('start', viewport),
    onChange: (viewport: Viewport) => console.log('change', viewport),
    onEnd: (viewport: Viewport) => console.log('end', viewport),
  });

  return null;
}
```

## 签名

<APIDocs functionName="useOnViewportChange" />

## 注意事项

- 该钩子只能在 [`<ReactFlowProvider />`](/api-reference/react-flow-provider) 或 [`<ReactFlow />`](/api-reference/react-flow) 组件的子组件中使用。