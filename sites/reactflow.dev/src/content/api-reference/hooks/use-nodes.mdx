---

description: '该钩子返回当前节点的数组。使用此钩子的组件会在任何节点发生变化时重新渲染，包括节点被选中或移动的情况。'
---

# useNodes()

[Source on GitHub](https://github.com/xyflow/xyflow/blob/main/packages/react/src/hooks/useNodes.ts)

该钩子返回当前节点的数组。使用此钩子的组件会在**任何节点发生变化时**重新渲染，包括节点被选中或移动的情况。

```jsx
import { useNodes } from '@xyflow/react';

export default function () {
  const nodes = useNodes();

  return <div>There are currently {nodes.length} nodes!</div>;
}
```

## 签名

<APIDocs functionName="useNodes" />

## TypeScript

该钩子接受自定义节点类型的泛型参数。更多信息请参阅
[TypeScript指南中的相关章节](/learn/advanced-use/typescript#nodetype-edgetype-unions)。

```tsx
const nodes = useNodes<CustomNodeType>();
```

## 注意事项

- 不必要地依赖 `useNodes` 是导致性能问题的常见原因。任何节点变化时，该钩子都会触发组件重新渲染。实际上我们通常更关心某些特定变化，比如节点_数量_的变化：在可能的情况下，尽量改用 [`useStore`](/api-reference/hooks/use-store)。