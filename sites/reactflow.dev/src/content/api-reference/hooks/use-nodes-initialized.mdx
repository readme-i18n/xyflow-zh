---

description: '该钩子用于判断流程中的所有节点是否已完成尺寸测量（获得宽度和高度值）。当向流程中添加新节点时，该钩子会先返回 false，待节点测量完成后再次返回 true。'
---

# useNodesInitialized()

[Source on GitHub](https://github.com/xyflow/xyflow/blob/main/packages/react/src/hooks/useNodesInitialized.ts)

该钩子用于判断流程中的所有节点是否已完成尺寸测量（获得宽度和高度值）。当向流程中添加新节点时，该钩子会先返回 `false`，待节点测量完成后再次返回 `true`。

```jsx
import { useReactFlow, useNodesInitialized } from '@xyflow/react';
import { useEffect, useState } from 'react';

const options = {
  includeHiddenNodes: false,
};

export default function useLayout() {
  const { getNodes } = useReactFlow();
  const nodesInitialized = useNodesInitialized(options);
  const [layoutedNodes, setLayoutedNodes] = useState(getNodes());

  useEffect(() => {
    if (nodesInitialized) {
      setLayoutedNodes(yourLayoutingFunction(getNodes()));
    }
  }, [nodesInitialized]);

  return layoutedNodes;
}
```

## 签名

<APIDocs functionName="useNodesInitialized" />

## 注意事项

- 若内部节点数组为空，该钩子始终返回 `false`。